

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ProfileHistogram &mdash; Poisson Approval 0.27.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Iterables" href="../reference_iterables/index.html" />
    <link rel="prev" title="ProfileNoisyDiscrete" href="reference_profile_noisy_discrete.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Poisson Approval
          

          
          </a>

          
            
            
              <div class="version">
                0.27.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../readme.html">Poisson Approval</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../reference_constants/index.html">Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_containers/index.html">Containers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_events/index.html">Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_best_response/index.html">Best Responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_tau_vector/index.html">Tau Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_strategies/index.html">Strategies</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Profiles</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="reference_profile.html">Profile</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference_profile_ordinal.html">ProfileOrdinal</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference_profile_cardinal.html">ProfileCardinal</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference_profile_twelve.html">ProfileTwelve</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference_profile_discrete.html">ProfileDiscrete</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference_profile_cardinal_continuous.html">ProfileCardinalContinuous</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference_profile_noisy_discrete.html">ProfileNoisyDiscrete</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ProfileHistogram</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference_iterables/index.html">Iterables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_random_factories/index.html">Random Factories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_meta_analysis/index.html">Meta-Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_utils/index.html">Utils</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../history.html">History</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Poisson Approval</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Reference</a> &raquo;</li>
        
          <li><a href="index.html">Profiles</a> &raquo;</li>
        
      <li>ProfileHistogram</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/reference/reference_profiles/reference_profile_histogram.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="profilehistogram">
<h1>ProfileHistogram<a class="headerlink" href="#profilehistogram" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="poisson_approval.ProfileHistogram">
<em class="property">class </em><code class="sig-prename descclassname">poisson_approval.</code><code class="sig-name descname">ProfileHistogram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d_ranking_share</span></em>, <em class="sig-param"><span class="n">d_ranking_histogram</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">d_weak_order_share</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">normalization_warning</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">ratio_sincere</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">ratio_fanatic</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">voting_rule</span><span class="o">=</span><span class="default_value">'Approval'</span></em>, <em class="sig-param"><span class="n">symbolic</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/poisson_approval/profiles/ProfileHistogram.html#ProfileHistogram"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poisson_approval.ProfileHistogram" title="Permalink to this definition">¶</a></dt>
<dd><p>A profile of preference with histogram distributions of utility.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d_ranking_share</strong> (<em>dict</em>) – E.g. <code class="docutils literal notranslate"><span class="pre">{'abc':</span> <span class="pre">0.4,</span> <span class="pre">'cab':</span> <span class="pre">0.6}</span></code>. <code class="docutils literal notranslate"><span class="pre">d_ranking_share['abc']</span></code> is the probability that a voter prefers candidate
<code class="docutils literal notranslate"><span class="pre">a</span></code>, then candidate <code class="docutils literal notranslate"><span class="pre">b</span></code>, then candidate <code class="docutils literal notranslate"><span class="pre">c</span></code>.</p></li>
<li><p><strong>d_ranking_histogram</strong> (<em>dict</em>) – <p>Each key is a ranking, e.g. <code class="docutils literal notranslate"><span class="pre">'abc'</span></code>. Each value is a list that represents a piecewise constant probability
density function (PDF) of having a utility <cite>u</cite> for the middle candidate, e.g. <code class="docutils literal notranslate"><span class="pre">b</span></code>. By convention, the list
sums to 1 (contrary to the usual convention where the integral of the function would sum to 1).</p>
<p>For example, if the list is <code class="docutils literal notranslate"><span class="pre">[0.4,</span> <span class="pre">0.3,</span> <span class="pre">0.2,</span> <span class="pre">0.1]</span></code>, it means that a fraction 0.4 of voters <code class="docutils literal notranslate"><span class="pre">'abc'</span></code> have a
utility for <code class="docutils literal notranslate"><span class="pre">b</span></code> that is in the first quarter, i.e. between 0 and 0.25. These voters are uniformly distributed
in this segment.</p>
</p></li>
<li><p><strong>d_weak_order_share</strong> (<em>dict</em>) – E.g. <code class="docutils literal notranslate"><span class="pre">{'a~b&gt;c':</span> <span class="pre">0.2,</span> <span class="pre">'a&gt;b~c':</span> <span class="pre">0.1}</span></code>. <code class="docutils literal notranslate"><span class="pre">d_weak_order_share['a~b&gt;c']</span></code> is the probability that a voter likes
candidates <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> equally and prefer them to candidate <code class="docutils literal notranslate"><span class="pre">c</span></code>.</p></li>
<li><p><strong>normalization_warning</strong> (<em>bool</em>) – Whether a warning should be issued if the input distribution is not normalized.</p></li>
<li><p><strong>ratio_sincere</strong> (<em>Number</em>) – The ratio of sincere voters, in the interval [0, 1]. This is used for <a class="reference internal" href="#poisson_approval.ProfileHistogram.tau" title="poisson_approval.ProfileHistogram.tau"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tau()</span></code></a>.</p></li>
<li><p><strong>ratio_fanatic</strong> (<em>Number</em>) – The ratio of fanatic voters, in the interval [0, 1]. This is used for <a class="reference internal" href="#poisson_approval.ProfileHistogram.tau" title="poisson_approval.ProfileHistogram.tau"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tau()</span></code></a>. The sum of <cite>ratio_sincere</cite>
and <cite>ratio_fanatic</cite> must not exceed 1.</p></li>
<li><p><strong>voting_rule</strong> (<em>str</em>) – The voting rule. Possible values are <code class="docutils literal notranslate"><span class="pre">APPROVAL</span></code>, <code class="docutils literal notranslate"><span class="pre">PLURALITY</span></code> and <code class="docutils literal notranslate"><span class="pre">ANTI_PLURALITY</span></code>.</p></li>
<li><p><strong>symbolic</strong> (<em>bool</em>) – Whether the computations are symbolic or numeric.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If the input distribution is not normalized, the profile will be normalized anyway and a warning is
issued (unless <cite>normalization_warning</cite> is False).</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fractions</span> <span class="kn">import</span> <span class="n">Fraction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span> <span class="o">=</span> <span class="n">ProfileHistogram</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;abc&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s1">&#39;bac&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s1">&#39;cab&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">)},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;abc&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;bac&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;cab&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span>  
<span class="go">ProfileHistogram({&#39;abc&#39;: Fraction(1, 10), &#39;bac&#39;: Fraction(3, 5), &#39;cab&#39;: Fraction(3, 10)}, {&#39;abc&#39;: array([1]), &#39;bac&#39;: array([1, 0]), &#39;cab&#39;: array([Fraction(2, 3), 0, 0, 0, 0, 0, 0, 0, 0, Fraction(1, 3)],</span>
<span class="go">    dtype=object)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">profile</span><span class="p">)</span>
<span class="go">&lt;abc: 1/10 [1], bac: 3/5 [1 0], cab: 3/10 [Fraction(2, 3) 0 0 0 0 0 0 0 0 Fraction(1, 3)]&gt; (Condorcet winner: b)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">abc</span>
<span class="go">Fraction(1, 10)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">d_ranking_share</span><span class="p">[</span><span class="s1">&#39;abc&#39;</span><span class="p">]</span>  <span class="c1"># Alternate syntax for profile.abc</span>
<span class="go">Fraction(1, 10)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">d_candidate_welfare</span>
<span class="go">{&#39;a&#39;: Fraction(71, 200), &#39;b&#39;: Fraction(13, 20), &#39;c&#39;: Fraction(3, 10)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">weighted_maj_graph</span>
<span class="go">array([[0, Fraction(-1, 5), Fraction(2, 5)],</span>
<span class="go">       [Fraction(1, 5), 0, Fraction(2, 5)],</span>
<span class="go">       [Fraction(-2, 5), Fraction(-2, 5), 0]], dtype=object)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">condorcet_winners</span>
<span class="go">Winners({&#39;b&#39;})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">is_profile_condorcet</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">has_majority_favorite</span>  <span class="c1"># Is one candidate &#39;top&#39; in a majority of ballots?</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">has_majority_ranking</span>  <span class="c1"># Does one ranking represent a majority of ballots?</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">is_single_peaked</span>  <span class="c1"># Is the profile single-peaked?</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">support_in_rankings</span>
<span class="go">{&#39;abc&#39;, &#39;bac&#39;, &#39;cab&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">is_generic_in_rankings</span>  <span class="c1"># Are all rankings there?</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">strategy</span> <span class="o">=</span> <span class="n">StrategyThreshold</span><span class="p">({</span><span class="s1">&#39;abc&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;bac&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;cab&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)},</span> <span class="n">profile</span><span class="o">=</span><span class="n">profile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">profile</span><span class="o">.</span><span class="n">tau_sincere</span><span class="p">)</span>
<span class="go">&lt;a: 1/20, ab: 1/20, ac: 1/10, b: 3/5, c: 1/5&gt; ==&gt; b</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">profile</span><span class="o">.</span><span class="n">tau_fanatic</span><span class="p">)</span>
<span class="go">&lt;a: 1/10, b: 3/5, c: 3/10&gt; ==&gt; b</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">profile</span><span class="o">.</span><span class="n">tau_strategic</span><span class="p">(</span><span class="n">strategy</span><span class="p">))</span>
<span class="go">&lt;ab: 1/10, ac: 1/10, b: 3/5, c: 1/5&gt; ==&gt; b</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">profile</span><span class="o">.</span><span class="n">tau</span><span class="p">(</span><span class="n">strategy</span><span class="p">))</span>
<span class="go">&lt;ab: 1/10, ac: 1/10, b: 3/5, c: 1/5&gt; ==&gt; b</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">is_equilibrium</span><span class="p">(</span><span class="n">strategy</span><span class="p">)</span>
<span class="go">EquilibriumStatus.EQUILIBRIUM</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">analyzed_strategies_group</span>
<span class="go">Equilibria:</span>
<span class="go">&lt;abc: ab, bac: b, cab: utility-dependent (1/2)&gt; ==&gt; b (FF)</span>
<span class="go">&lt;abc: a, bac: ab, cab: c&gt; ==&gt; a (D)</span>
<span class="go">&lt;abc: a, bac: b, cab: ac&gt; ==&gt; b (FF)</span>

<span class="go">Non-equilibria:</span>
<span class="go">&lt;abc: ab, bac: ab, cab: ac&gt; ==&gt; a (D)</span>
<span class="go">&lt;abc: ab, bac: ab, cab: utility-dependent (1/2)&gt; ==&gt; a (D)</span>
<span class="go">&lt;abc: ab, bac: ab, cab: c&gt; ==&gt; a, b (FF)</span>
<span class="go">&lt;abc: ab, bac: b, cab: ac&gt; ==&gt; b (FF)</span>
<span class="go">&lt;abc: ab, bac: b, cab: c&gt; ==&gt; b (FF)</span>
<span class="go">&lt;abc: a, bac: ab, cab: ac&gt; ==&gt; a (D)</span>
<span class="go">&lt;abc: a, bac: ab, cab: utility-dependent (1/2)&gt; ==&gt; a (D)</span>
<span class="go">&lt;abc: a, bac: b, cab: utility-dependent (1/2)&gt; ==&gt; b (FF)</span>
<span class="go">&lt;abc: a, bac: b, cab: c&gt; ==&gt; b (FF)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">strategy_ini</span> <span class="o">=</span> <span class="n">StrategyThreshold</span><span class="p">({</span><span class="s1">&#39;abc&#39;</span><span class="p">:</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;bac&#39;</span><span class="p">:</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;cab&#39;</span><span class="p">:</span> <span class="o">.</span><span class="mi">5</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cycle</span> <span class="o">=</span> <span class="n">profile</span><span class="o">.</span><span class="n">iterated_voting</span><span class="p">(</span><span class="n">strategy_ini</span><span class="p">,</span> <span class="mi">100</span><span class="p">)[</span><span class="s1">&#39;cycle_strategies&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">cycle</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">cycle</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">&lt;abc: ab, bac: utility-dependent (0.7199316142046179), cab: utility-dependent (0.28006838579538196)&gt; ==&gt; b</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">limit_strategy</span> <span class="o">=</span> <span class="n">profile</span><span class="o">.</span><span class="n">fictitious_play</span><span class="p">(</span><span class="n">strategy_ini</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">perception_update_ratio</span><span class="o">=</span><span class="mi">1</span><span class="p">)[</span><span class="s1">&#39;strategy&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">limit_strategy</span><span class="p">)</span>
<span class="go">&lt;abc: ab, bac: utility-dependent (0.7199316142046179), cab: utility-dependent (0.28006838579538196)&gt; ==&gt; b</span>
</pre></div>
</div>
<p>The profile can include weak orders:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span> <span class="o">=</span> <span class="n">ProfileHistogram</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;abc&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s1">&#39;bac&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">)},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;abc&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;bac&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]},</span>
<span class="gp">... </span>    <span class="n">d_weak_order_share</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;c~a&gt;b&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span>
<span class="go">ProfileHistogram({&#39;abc&#39;: Fraction(1, 10), &#39;bac&#39;: Fraction(3, 5)}, {&#39;abc&#39;: array([1]), &#39;bac&#39;: array([1, 0])}, d_weak_order_share={&#39;a~c&gt;b&#39;: Fraction(3, 10)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">profile</span><span class="p">)</span>
<span class="go">&lt;abc: 1/10 [1], bac: 3/5 [1 0], a~c&gt;b: 3/10&gt; (Condorcet winner: b)</span>
</pre></div>
</div>
<p>An alternate syntax to define a profile:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span> <span class="o">=</span> <span class="n">ProfileHistogram</span><span class="p">({</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">)):</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;bac&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)):</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">(</span><span class="s1">&#39;cab&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))):</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
<span class="gp">... </span>    <span class="s1">&#39;a~b&gt;c&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">profile</span><span class="p">)</span>
<span class="go">&lt;abc: 1/10 [1], bac: 3/5 [1 0], cab: 1/5 [Fraction(2, 3) 0 0 0 0 0 0 0 0 Fraction(1, 3)], a~b&gt;c: 1/10&gt; (Condorcet winner: b)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.abc">
<em class="property">property </em><code class="sig-name descname">abc</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.abc" title="Permalink to this definition">¶</a></dt>
<dd><p>Share of voters with this ranking.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Number</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.acb">
<em class="property">property </em><code class="sig-name descname">acb</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.acb" title="Permalink to this definition">¶</a></dt>
<dd><p>Share of voters with this ranking.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Number</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.analyzed_strategies">
<code class="sig-name descname">analyzed_strategies</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">strategies</span></em><span class="sig-paren">)</span><a class="headerlink" href="#poisson_approval.ProfileHistogram.analyzed_strategies" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyze a list of strategies for the profile.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>strategies</strong> (<em>iterable</em>) – An iterator of strategies, such as a list of strategies.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The analyzed strategies of the profile.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../reference_containers/reference_analyzed_strategies.html#poisson_approval.AnalyzedStrategies" title="poisson_approval.AnalyzedStrategies">AnalyzedStrategies</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Cf. <a class="reference internal" href="reference_profile_ordinal.html#poisson_approval.ProfileOrdinal.analyzed_strategies_ordinal" title="poisson_approval.ProfileOrdinal.analyzed_strategies_ordinal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ProfileOrdinal.analyzed_strategies_ordinal()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.analyzed_strategies_group">
<em class="property">property </em><code class="sig-name descname">analyzed_strategies_group</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.analyzed_strategies_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyzed group strategies.</p>
<p>Cf. <a class="reference internal" href="#poisson_approval.ProfileHistogram.analyzed_strategies" title="poisson_approval.ProfileHistogram.analyzed_strategies"><code class="xref py py-meth docutils literal notranslate"><span class="pre">analyzed_strategies()</span></code></a> and <a class="reference internal" href="#poisson_approval.ProfileHistogram.strategies_group" title="poisson_approval.ProfileHistogram.strategies_group"><code class="xref py py-attr docutils literal notranslate"><span class="pre">strategies_group</span></code></a>. This is implemented only for profiles where we
consider that there is a natural notion of group, such as <a class="reference internal" href="reference_profile_noisy_discrete.html#poisson_approval.ProfileNoisyDiscrete" title="poisson_approval.ProfileNoisyDiscrete"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProfileNoisyDiscrete</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../reference_containers/reference_analyzed_strategies.html#poisson_approval.AnalyzedStrategies" title="poisson_approval.AnalyzedStrategies">AnalyzedStrategies</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.analyzed_strategies_ordinal">
<em class="property">property </em><code class="sig-name descname">analyzed_strategies_ordinal</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.analyzed_strategies_ordinal" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyzed ordinal strategies.</p>
<p>Cf. <a class="reference internal" href="#poisson_approval.ProfileHistogram.analyzed_strategies" title="poisson_approval.ProfileHistogram.analyzed_strategies"><code class="xref py py-meth docutils literal notranslate"><span class="pre">analyzed_strategies()</span></code></a> and <a class="reference internal" href="#poisson_approval.ProfileHistogram.strategies_ordinal" title="poisson_approval.ProfileHistogram.strategies_ordinal"><code class="xref py py-attr docutils literal notranslate"><span class="pre">strategies_ordinal</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../reference_containers/reference_analyzed_strategies.html#poisson_approval.AnalyzedStrategies" title="poisson_approval.AnalyzedStrategies">AnalyzedStrategies</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.analyzed_strategies_pure">
<em class="property">property </em><code class="sig-name descname">analyzed_strategies_pure</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.analyzed_strategies_pure" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyzed pure strategies.</p>
<p>Cf. <a class="reference internal" href="#poisson_approval.ProfileHistogram.analyzed_strategies" title="poisson_approval.ProfileHistogram.analyzed_strategies"><code class="xref py py-meth docutils literal notranslate"><span class="pre">analyzed_strategies()</span></code></a> and <a class="reference internal" href="#poisson_approval.ProfileHistogram.strategies_pure" title="poisson_approval.ProfileHistogram.strategies_pure"><code class="xref py py-attr docutils literal notranslate"><span class="pre">strategies_pure</span></code></a>. This is implemented only for discrete profiles such
as <a class="reference internal" href="reference_profile_twelve.html#poisson_approval.ProfileTwelve" title="poisson_approval.ProfileTwelve"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProfileTwelve</span></code></a> or <a class="reference internal" href="reference_profile_discrete.html#poisson_approval.ProfileDiscrete" title="poisson_approval.ProfileDiscrete"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProfileDiscrete</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../reference_containers/reference_analyzed_strategies.html#poisson_approval.AnalyzedStrategies" title="poisson_approval.AnalyzedStrategies">AnalyzedStrategies</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.bac">
<em class="property">property </em><code class="sig-name descname">bac</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.bac" title="Permalink to this definition">¶</a></dt>
<dd><p>Share of voters with this ranking.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Number</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.bca">
<em class="property">property </em><code class="sig-name descname">bca</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.bca" title="Permalink to this definition">¶</a></dt>
<dd><p>Share of voters with this ranking.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Number</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.best_responses_to_strategy">
<code class="sig-name descname">best_responses_to_strategy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d_ranking_best_response</span></em><span class="sig-paren">)</span><a class="headerlink" href="#poisson_approval.ProfileHistogram.best_responses_to_strategy" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert best responses to a <a class="reference internal" href="../reference_strategies/reference_strategy_threshold.html#poisson_approval.StrategyThreshold" title="poisson_approval.StrategyThreshold"><code class="xref py py-class docutils literal notranslate"><span class="pre">StrategyThreshold</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d_ranking_best_response</strong> (<em>dict</em>) – Key: ranking. Value: <a class="reference internal" href="../reference_best_response/reference_best_response.html#poisson_approval.BestResponse" title="poisson_approval.BestResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">BestResponse</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The conversion of the best responses into a strategy. Only the rankings present in this profile are
mentioned in the strategy.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../reference_strategies/reference_strategy_threshold.html#poisson_approval.StrategyThreshold" title="poisson_approval.StrategyThreshold">StrategyThreshold</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.cab">
<em class="property">property </em><code class="sig-name descname">cab</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.cab" title="Permalink to this definition">¶</a></dt>
<dd><p>Share of voters with this ranking.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Number</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.cba">
<em class="property">property </em><code class="sig-name descname">cba</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.cba" title="Permalink to this definition">¶</a></dt>
<dd><p>Share of voters with this ranking.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Number</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.condorcet_winners">
<em class="property">property </em><code class="sig-name descname">condorcet_winners</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.condorcet_winners" title="Permalink to this definition">¶</a></dt>
<dd><p>Condorcet winner(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../reference_containers/reference_winners.html#poisson_approval.Winners" title="poisson_approval.Winners">Winners</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.contains_rankings">
<em class="property">property </em><code class="sig-name descname">contains_rankings</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.contains_rankings" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the profile contains some rankings.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.contains_weak_orders">
<em class="property">property </em><code class="sig-name descname">contains_weak_orders</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.contains_weak_orders" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the profile contains some weak orders.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.d_ballot_share_weak_voters_fanatic">
<em class="property">property </em><code class="sig-name descname">d_ballot_share_weak_voters_fanatic</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.d_ballot_share_weak_voters_fanatic" title="Permalink to this definition">¶</a></dt>
<dd><p>Ballot shares due to the weak orders if they vote fanatically</p>
<p>Voters of the type <code class="docutils literal notranslate"><span class="pre">'a&gt;b~c'</span></code>:</p>
<ul class="simple">
<li><p>In Approval or Plurality, they vote for <cite>a</cite>.</p></li>
<li><p>In Anti-plurality, half of them vote for <cite>ab</cite> (i.e. against <cite>c</cite>) and half of them vote for <cite>ac</cite> (i.e.
against <cite>b</cite>).</p></li>
</ul>
<p>Voters of the type <code class="docutils literal notranslate"><span class="pre">'a~b&gt;c'</span></code>:</p>
<ul class="simple">
<li><p>In Approval or Plurality, half of them vote for <cite>a</cite> and half of them vote for <cite>b</cite>.</p></li>
<li><p>In Anti-plurality, they vote for <cite>ab</cite> (i.e. against <cite>c</cite>).</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.d_ballot_share_weak_voters_sincere">
<em class="property">property </em><code class="sig-name descname">d_ballot_share_weak_voters_sincere</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.d_ballot_share_weak_voters_sincere" title="Permalink to this definition">¶</a></dt>
<dd><p>Ballot shares due to the weak orders if they vote sincerely</p>
<p>Voters of the type <code class="docutils literal notranslate"><span class="pre">'a&gt;b~c'</span></code>:</p>
<ul class="simple">
<li><p>In Approval or Plurality, they vote for <cite>a</cite>.</p></li>
<li><p>In Anti-plurality, half of them vote for <cite>ab</cite> (i.e. against <cite>c</cite>) and half of them vote for <cite>ac</cite> (i.e.
against <cite>b</cite>).</p></li>
</ul>
<p>Voters of the type <code class="docutils literal notranslate"><span class="pre">'a~b&gt;c'</span></code>:</p>
<ul class="simple">
<li><p>In Approval or Anti-plurality, they vote for <cite>ab</cite> (i.e. against <cite>c</cite>).</p></li>
<li><p>In Plurality, half of them vote for <cite>a</cite> and half of them vote for <cite>b</cite>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.d_candidate_relative_welfare">
<em class="property">property </em><code class="sig-name descname">d_candidate_relative_welfare</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.d_candidate_relative_welfare" title="Permalink to this definition">¶</a></dt>
<dd><p>relative welfare of each candidate.
This is similar to <code class="xref py py-attr docutils literal notranslate"><span class="pre">d_candidate_welfare</span></code>, but renormalized so that the candidate with best welfare
has 1 and the one with worst welfare has 0. In math: relative_welfare = (welfare - min_welfare) /
(max_welfare - min_welfare). In the case where all candidates have the same welfare, by convention,
the relative welfare is 1 for all of them.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.fictitious_play">
<code class="sig-name descname">fictitious_play</code><span class="sig-paren">(</span><em class="sig-param">init</em>, <em class="sig-param">n_max_episodes</em>, <em class="sig-param">perception_update_ratio=&lt;function one_over_t&gt;</em>, <em class="sig-param">ballot_update_ratio=1</em>, <em class="sig-param">winning_frequency_update_ratio=&lt;function one_over_t&gt;</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#poisson_approval.ProfileHistogram.fictitious_play" title="Permalink to this definition">¶</a></dt>
<dd><p>Seek for convergence by fictitious play.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>init</strong> (<a class="reference internal" href="../reference_strategies/reference_strategy.html#poisson_approval.Strategy" title="poisson_approval.Strategy"><em>Strategy</em></a><em> or </em><a class="reference internal" href="../reference_tau_vector/index.html#poisson_approval.TauVector" title="poisson_approval.TauVector"><em>TauVector</em></a><em> or </em><em>str</em>) – <p>The initialization.</p>
<ul>
<li><p>If it is a strategy, it must be an argument accepted by <a class="reference internal" href="#poisson_approval.ProfileHistogram.tau" title="poisson_approval.ProfileHistogram.tau"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tau()</span></code></a>, i.e. by <a class="reference internal" href="#poisson_approval.ProfileHistogram.tau_strategic" title="poisson_approval.ProfileHistogram.tau_strategic"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tau_strategic()</span></code></a>.</p></li>
<li><p>If it is a tau-vector, it is used directly.</p></li>
<li><p>If it is a string:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'sincere'</span></code> or <code class="docutils literal notranslate"><span class="pre">'fanatic'</span></code>: <a class="reference internal" href="#poisson_approval.ProfileHistogram.tau_sincere" title="poisson_approval.ProfileHistogram.tau_sincere"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tau_sincere</span></code></a> or <a class="reference internal" href="#poisson_approval.ProfileHistogram.tau_fanatic" title="poisson_approval.ProfileHistogram.tau_fanatic"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tau_fanatic</span></code></a> is respectively used.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'random_tau'</span></code>: use <a class="reference internal" href="../reference_random_factories/reference_rand_tau_vector_uniform.html#poisson_approval.RandTauVectorUniform" title="poisson_approval.RandTauVectorUniform"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandTauVectorUniform</span></code></a> to draw a tau-vector uniformly at random that
is consistent with the voting rule.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'random_tau_undominated'</span></code>: use <a class="reference internal" href="#poisson_approval.ProfileHistogram.random_tau_undominated" title="poisson_approval.ProfileHistogram.random_tau_undominated"><code class="xref py py-meth docutils literal notranslate"><span class="pre">random_tau_undominated()</span></code></a> to draw a tau-vector where all voters
cast an undominated ballot at random.</p></li>
</ul>
</li>
</ul>
</p></li>
<li><p><strong>n_max_episodes</strong> (<em>int</em>) – Maximal number of iterations.</p></li>
<li><p><strong>perception_update_ratio</strong> (<em>callable</em><em> or </em><em>Number</em>) – The coefficient when updating the perceived tau:
<code class="docutils literal notranslate"><span class="pre">tau_perceived</span> <span class="pre">=</span> <span class="pre">(1</span> <span class="pre">-</span> <span class="pre">perception_update_ratio(t))</span> <span class="pre">*</span> <span class="pre">tau_perceived</span> <span class="pre">+</span> <span class="pre">perception_update_ratio(t)</span> <span class="pre">*</span>
<span class="pre">tau_actual</span></code>. For any <code class="docutils literal notranslate"><span class="pre">t</span></code> from 1 to <cite>n_max_episodes</cite> included, the update ratio must be in [0, 1]. The
default function is <a class="reference internal" href="../reference_utils/reference_util.html#poisson_approval.utils.Util.one_over_t" title="poisson_approval.utils.Util.one_over_t"><code class="xref py py-func docutils literal notranslate"><span class="pre">one_over_t()</span></code></a>, which leads to an arithmetic average. However,
the <cite>recommended</cite> function is <a class="reference internal" href="../reference_utils/reference_util.html#poisson_approval.utils.Util.one_over_log_t_plus_one" title="poisson_approval.utils.Util.one_over_log_t_plus_one"><code class="xref py py-func docutils literal notranslate"><span class="pre">one_over_log_t_plus_one()</span></code></a>, which accelerates the
convergence. If <cite>perception_update_ratio</cite> is a Number, it is considered as a constant function.</p></li>
<li><p><strong>ballot_update_ratio</strong> (<em>callable</em><em> or </em><em>Number</em>) – The ratio of voters who update their ballot:
<code class="docutils literal notranslate"><span class="pre">tau_actual</span> <span class="pre">=</span> <span class="pre">(1</span> <span class="pre">-</span> <span class="pre">ballot_update_ratio(t))</span> <span class="pre">*</span> <span class="pre">tau_actual</span> <span class="pre">+</span> <span class="pre">ballot_update_ratio(t)</span> <span class="pre">*</span> <span class="pre">tau_response</span></code>.
For any <code class="docutils literal notranslate"><span class="pre">t</span></code> from 1 to <cite>n_max_episodes</cite> included, the update ratio must be in [0, 1]. The default function
is the constant 1, which corresponds to a full update. If <cite>ballot_update_ratio</cite> is a Number, it is
considered as a constant function.</p></li>
<li><p><strong>winning_frequency_update_ratio</strong> (<em>callable</em><em> or </em><em>Number</em>) – The coefficient when updating the winning frequency of each candidate:
<code class="docutils literal notranslate"><span class="pre">d_candidate_winning_frequency[c]</span> <span class="pre">=</span>
<span class="pre">(1</span> <span class="pre">-</span> <span class="pre">winning_frequency_update_ratio(t))</span> <span class="pre">*</span> <span class="pre">d_candidate_winning_frequency[c]</span>
<span class="pre">+</span> <span class="pre">winning_frequency_update_ratio(t)</span> <span class="pre">*</span> <span class="pre">winning_probability[c]</span></code>.
The default function is <a class="reference internal" href="../reference_utils/reference_util.html#poisson_approval.utils.Util.one_over_t" title="poisson_approval.utils.Util.one_over_t"><code class="xref py py-func docutils literal notranslate"><span class="pre">one_over_t()</span></code></a>, which leads to an arithmetic average.
Note that this parameters has an influence only in case of non-convergence.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – If True, print all intermediate steps.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>Key <code class="docutils literal notranslate"><span class="pre">tau</span></code>: <a class="reference internal" href="../reference_tau_vector/index.html#poisson_approval.TauVector" title="poisson_approval.TauVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">TauVector</span></code></a> or None. The limit tau-vector. If None, it means that the process did not
converge.</p></li>
<li><p>Key <code class="docutils literal notranslate"><span class="pre">strategy</span></code>: <a class="reference internal" href="../reference_strategies/reference_strategy_threshold.html#poisson_approval.StrategyThreshold" title="poisson_approval.StrategyThreshold"><code class="xref py py-class docutils literal notranslate"><span class="pre">StrategyThreshold</span></code></a> or None. The limit strategy. If None, it means that the
process did not converge.</p></li>
<li><p>Key <code class="docutils literal notranslate"><span class="pre">n_episodes</span></code>: the number of episodes until convergence. If the process did not converge, by
convention, this value is <cite>n_max_episodes</cite>.</p></li>
<li><p>Key <code class="docutils literal notranslate"><span class="pre">d_candidate_winning_frequency</span></code>: dict. Key: candidate. Value: winning frequency. If the process
reached a limit, the winning frequencies are computed in the limit only. If the process did not converge,
the frequency is computed on the whole history.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Comparison between <a class="reference internal" href="#poisson_approval.ProfileHistogram.iterated_voting" title="poisson_approval.ProfileHistogram.iterated_voting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iterated_voting()</span></code></a> and <a class="reference internal" href="#poisson_approval.ProfileHistogram.fictitious_play" title="poisson_approval.ProfileHistogram.fictitious_play"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fictitious_play()</span></code></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#poisson_approval.ProfileHistogram.iterated_voting" title="poisson_approval.ProfileHistogram.iterated_voting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iterated_voting()</span></code></a> can detect cycles (whereas <a class="reference internal" href="#poisson_approval.ProfileHistogram.fictitious_play" title="poisson_approval.ProfileHistogram.fictitious_play"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fictitious_play()</span></code></a> only looks for a limit).</p></li>
<li><p><a class="reference internal" href="#poisson_approval.ProfileHistogram.fictitious_play" title="poisson_approval.ProfileHistogram.fictitious_play"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fictitious_play()</span></code></a> accepts update ratios that are functions of the time (whereas
<a class="reference internal" href="#poisson_approval.ProfileHistogram.iterated_voting" title="poisson_approval.ProfileHistogram.iterated_voting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iterated_voting()</span></code></a> only accepts constants).</p></li>
<li><p><a class="reference internal" href="#poisson_approval.ProfileHistogram.fictitious_play" title="poisson_approval.ProfileHistogram.fictitious_play"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fictitious_play()</span></code></a> is faster and uses less memory, because it only looks for a limit and not for a cycle.</p></li>
</ul>
<p>In general, you should use <a class="reference internal" href="#poisson_approval.ProfileHistogram.iterated_voting" title="poisson_approval.ProfileHistogram.iterated_voting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iterated_voting()</span></code></a> only if you care about cycles, with the constraint
that it implies having constant update ratios.</p>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.has_majority_favorite">
<em class="property">property </em><code class="sig-name descname">has_majority_favorite</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.has_majority_favorite" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether there is a <cite>majority favorite</cite> (a candidate ranked first by strictly more than half of the
voters).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.has_majority_ranking">
<em class="property">property </em><code class="sig-name descname">has_majority_ranking</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.has_majority_ranking" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether there is a majority ranking (a ranking shared by strictly more than half of the voters).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.have_ranking_with_utility_above_u">
<code class="sig-name descname">have_ranking_with_utility_above_u</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ranking</span></em>, <em class="sig-param"><span class="n">u</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/poisson_approval/profiles/ProfileHistogram.html#ProfileHistogram.have_ranking_with_utility_above_u"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poisson_approval.ProfileHistogram.have_ranking_with_utility_above_u" title="Permalink to this definition">¶</a></dt>
<dd><p>Share of voters who have a given ranking and strictly above a given utility for their middle candidate.</p>
<p>Cf. <a class="reference internal" href="reference_profile_cardinal.html#poisson_approval.ProfileCardinal.have_ranking_with_utility_above_u" title="poisson_approval.ProfileCardinal.have_ranking_with_utility_above_u"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ProfileCardinal.have_ranking_with_utility_above_u()</span></code></a>.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fractions</span> <span class="kn">import</span> <span class="n">Fraction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span> <span class="o">=</span> <span class="n">ProfileHistogram</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;abc&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s1">&#39;bac&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s1">&#39;cab&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">)},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;abc&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;bac&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;cab&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">have_ranking_with_utility_above_u</span><span class="p">(</span><span class="n">ranking</span><span class="o">=</span><span class="s1">&#39;cab&#39;</span><span class="p">,</span> <span class="n">u</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Fraction(3, 10)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">have_ranking_with_utility_above_u</span><span class="p">(</span><span class="n">ranking</span><span class="o">=</span><span class="s1">&#39;cab&#39;</span><span class="p">,</span> <span class="n">u</span><span class="o">=</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="go">Fraction(7, 25)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">have_ranking_with_utility_above_u</span><span class="p">(</span><span class="n">ranking</span><span class="o">=</span><span class="s1">&#39;cab&#39;</span><span class="p">,</span> <span class="n">u</span><span class="o">=</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">99</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="go">Fraction(1, 100)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">have_ranking_with_utility_above_u</span><span class="p">(</span><span class="n">ranking</span><span class="o">=</span><span class="s1">&#39;cab&#39;</span><span class="p">,</span> <span class="n">u</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.have_ranking_with_utility_below_u">
<code class="sig-name descname">have_ranking_with_utility_below_u</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ranking</span></em>, <em class="sig-param"><span class="n">u</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/poisson_approval/profiles/ProfileHistogram.html#ProfileHistogram.have_ranking_with_utility_below_u"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poisson_approval.ProfileHistogram.have_ranking_with_utility_below_u" title="Permalink to this definition">¶</a></dt>
<dd><p>Share of voters who have a given ranking and strictly below a given utility for their middle candidate.</p>
<p>Cf. <a class="reference internal" href="reference_profile_cardinal.html#poisson_approval.ProfileCardinal.have_ranking_with_utility_below_u" title="poisson_approval.ProfileCardinal.have_ranking_with_utility_below_u"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ProfileCardinal.have_ranking_with_utility_below_u()</span></code></a>.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fractions</span> <span class="kn">import</span> <span class="n">Fraction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span> <span class="o">=</span> <span class="n">ProfileHistogram</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;abc&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s1">&#39;bac&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s1">&#39;cab&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">)},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;abc&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;bac&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;cab&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">have_ranking_with_utility_below_u</span><span class="p">(</span><span class="n">ranking</span><span class="o">=</span><span class="s1">&#39;cab&#39;</span><span class="p">,</span> <span class="n">u</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">have_ranking_with_utility_below_u</span><span class="p">(</span><span class="n">ranking</span><span class="o">=</span><span class="s1">&#39;cab&#39;</span><span class="p">,</span> <span class="n">u</span><span class="o">=</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="go">Fraction(1, 50)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">have_ranking_with_utility_below_u</span><span class="p">(</span><span class="n">ranking</span><span class="o">=</span><span class="s1">&#39;cab&#39;</span><span class="p">,</span> <span class="n">u</span><span class="o">=</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">99</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="go">Fraction(29, 100)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">have_ranking_with_utility_below_u</span><span class="p">(</span><span class="n">ranking</span><span class="o">=</span><span class="s1">&#39;cab&#39;</span><span class="p">,</span> <span class="n">u</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Fraction(3, 10)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.have_ranking_with_utility_u">
<code class="sig-name descname">have_ranking_with_utility_u</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ranking</span></em>, <em class="sig-param"><span class="n">u</span></em><span class="sig-paren">)</span><a class="headerlink" href="#poisson_approval.ProfileHistogram.have_ranking_with_utility_u" title="Permalink to this definition">¶</a></dt>
<dd><p>Share of voters who have a given ranking and a given utility for their middle candidate.</p>
<p>Since it is a continuous profile, this method always returns 0.</p>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.is_equilibrium">
<code class="sig-name descname">is_equilibrium</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">strategy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#poisson_approval.ProfileHistogram.is_equilibrium" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether a strategy is an equilibrium.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>strategy</strong> (<a class="reference internal" href="../reference_strategies/reference_strategy_threshold.html#poisson_approval.StrategyThreshold" title="poisson_approval.StrategyThreshold"><em>StrategyThreshold</em></a>) – A strategy that specifies at least all the rankings that are present in the profile. If some voters
have a utility for their second candidate that is equal to the threshold utility of the strategy, then the
ratio of optimistic voters must be specified.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>Whether <cite>strategy</cite> is an equilibrium in this profile. This is based on the assumption that:</p>
<ul class="simple">
<li><p>A proportion <code class="xref py py-attr docutils literal notranslate"><span class="pre">ratio_sincere</span></code> of voters cast their ballot sincerely (in the sense of
<a class="reference internal" href="#poisson_approval.ProfileHistogram.tau_sincere" title="poisson_approval.ProfileHistogram.tau_sincere"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tau_sincere</span></code></a>),</p></li>
<li><p>A proportion <code class="xref py py-attr docutils literal notranslate"><span class="pre">ratio_fanatic</span></code> of voters vote for their top candidate only,</p></li>
<li><p>And the rest of the voters use <cite>strategy</cite>.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../reference_constants/reference_equilibrium_status.html#poisson_approval.EquilibriumStatus" title="poisson_approval.EquilibriumStatus">EquilibriumStatus</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.is_generic_in_rankings">
<em class="property">property </em><code class="sig-name descname">is_generic_in_rankings</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.is_generic_in_rankings" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the profile is generic in rankings (contains all rankings).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.is_profile_condorcet">
<em class="property">property </em><code class="sig-name descname">is_profile_condorcet</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.is_profile_condorcet" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the profile is Condorcet. 1. means there is a strict Condorcet winner, 0.5 means there are
one or more weak Condorcet winner(s), 0. means there is no Condorcet winner.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.is_single_peaked">
<em class="property">property </em><code class="sig-name descname">is_single_peaked</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.is_single_peaked" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the profile is single-peaked.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.is_standardized">
<em class="property">property </em><code class="sig-name descname">is_standardized</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.is_standardized" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the profile is standardized. Cf. <a class="reference internal" href="#poisson_approval.ProfileHistogram.standardized_version" title="poisson_approval.ProfileHistogram.standardized_version"><code class="xref py py-meth docutils literal notranslate"><span class="pre">standardized_version()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.iterated_voting">
<code class="sig-name descname">iterated_voting</code><span class="sig-paren">(</span><em class="sig-param">init</em>, <em class="sig-param">n_max_episodes</em>, <em class="sig-param">perception_update_ratio=1</em>, <em class="sig-param">ballot_update_ratio=1</em>, <em class="sig-param">winning_frequency_update_ratio=&lt;function one_over_t&gt;</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#poisson_approval.ProfileHistogram.iterated_voting" title="Permalink to this definition">¶</a></dt>
<dd><p>Seek for convergence by iterated voting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>init</strong> (<a class="reference internal" href="../reference_strategies/reference_strategy.html#poisson_approval.Strategy" title="poisson_approval.Strategy"><em>Strategy</em></a><em> or </em><a class="reference internal" href="../reference_tau_vector/index.html#poisson_approval.TauVector" title="poisson_approval.TauVector"><em>TauVector</em></a><em> or </em><em>str</em>) – <p>The initialization.</p>
<ul>
<li><p>If it is a strategy, it must be an argument accepted by <a class="reference internal" href="#poisson_approval.ProfileHistogram.tau" title="poisson_approval.ProfileHistogram.tau"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tau()</span></code></a>, i.e. by <a class="reference internal" href="#poisson_approval.ProfileHistogram.tau_strategic" title="poisson_approval.ProfileHistogram.tau_strategic"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tau_strategic()</span></code></a>.</p></li>
<li><p>If it is a tau-vector, it is used directly.</p></li>
<li><p>If it is a string:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'sincere'</span></code> or <code class="docutils literal notranslate"><span class="pre">'fanatic'</span></code>: <a class="reference internal" href="#poisson_approval.ProfileHistogram.tau_sincere" title="poisson_approval.ProfileHistogram.tau_sincere"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tau_sincere</span></code></a> or <a class="reference internal" href="#poisson_approval.ProfileHistogram.tau_fanatic" title="poisson_approval.ProfileHistogram.tau_fanatic"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tau_fanatic</span></code></a> is respectively used.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'random_tau'</span></code>: use <a class="reference internal" href="../reference_random_factories/reference_rand_tau_vector_uniform.html#poisson_approval.RandTauVectorUniform" title="poisson_approval.RandTauVectorUniform"><code class="xref py py-class docutils literal notranslate"><span class="pre">RandTauVectorUniform</span></code></a> to draw a tau-vector uniformly at random that
is consistent with the voting rule.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'random_tau_undominated'</span></code>: use <a class="reference internal" href="#poisson_approval.ProfileHistogram.random_tau_undominated" title="poisson_approval.ProfileHistogram.random_tau_undominated"><code class="xref py py-meth docutils literal notranslate"><span class="pre">random_tau_undominated()</span></code></a> to draw a tau-vector where all voters
cast an undominated ballot at random.</p></li>
</ul>
</li>
</ul>
</p></li>
<li><p><strong>n_max_episodes</strong> (<em>int</em>) – Maximal number of iterations.</p></li>
<li><p><strong>perception_update_ratio</strong> (<em>Number in</em><em> [</em><em>0</em><em>, </em><em>1</em><em>]</em>) – The coefficient when updating the perceived tau:
<code class="docutils literal notranslate"><span class="pre">tau_perceived</span> <span class="pre">=</span> <span class="pre">(1</span> <span class="pre">-</span> <span class="pre">perception_update_ratio)</span> <span class="pre">*</span> <span class="pre">tau_perceived</span> <span class="pre">+</span> <span class="pre">perception_update_ratio</span> <span class="pre">*</span> <span class="pre">tau_actual</span></code>.</p></li>
<li><p><strong>ballot_update_ratio</strong> (<em>Number in</em><em> [</em><em>0</em><em>, </em><em>1</em><em>]</em>) – The ratio of voters who update their ballot:
<code class="docutils literal notranslate"><span class="pre">tau_actual</span> <span class="pre">=</span> <span class="pre">(1</span> <span class="pre">-</span> <span class="pre">ballot_update_ratio)</span> <span class="pre">*</span> <span class="pre">tau_actual</span> <span class="pre">+</span> <span class="pre">ballot_update_ratio</span> <span class="pre">*</span> <span class="pre">tau_response</span></code>.</p></li>
<li><p><strong>winning_frequency_update_ratio</strong> (<em>callable</em><em> or </em><em>Number</em>) – The coefficient when updating the winning frequency of each candidate:
<code class="docutils literal notranslate"><span class="pre">d_candidate_winning_frequency[c]</span> <span class="pre">=</span>
<span class="pre">(1</span> <span class="pre">-</span> <span class="pre">winning_frequency_update_ratio(t))</span> <span class="pre">*</span> <span class="pre">d_candidate_winning_frequency[c]</span>
<span class="pre">+</span> <span class="pre">winning_frequency_update_ratio(t)</span> <span class="pre">*</span> <span class="pre">winning_probability[c]</span></code>.
The default function is <a class="reference internal" href="../reference_utils/reference_util.html#poisson_approval.utils.Util.one_over_t" title="poisson_approval.utils.Util.one_over_t"><code class="xref py py-func docutils literal notranslate"><span class="pre">one_over_t()</span></code></a>, which leads to an arithmetic average.
Note that this parameters has an influence only in case of non-convergence.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – If True, print all intermediate steps.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>Key <code class="docutils literal notranslate"><span class="pre">cycle_taus_perceived</span></code>: list of <a class="reference internal" href="../reference_tau_vector/index.html#poisson_approval.TauVector" title="poisson_approval.TauVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">TauVector</span></code></a>. The limit cycle of perceived tau-vectors.
<code class="docutils literal notranslate"><span class="pre">cycle_taus_perceived[t]</span></code> is a barycenter of <code class="docutils literal notranslate"><span class="pre">cycle_taus_perceived[t</span> <span class="pre">-</span> <span class="pre">1]</span></code> with
<code class="docutils literal notranslate"><span class="pre">cycle_taus_actual[t</span> <span class="pre">-</span> <span class="pre">1]</span></code>, parametrized by <cite>perception_update_ratio</cite>.</p></li>
<li><p>Key <code class="docutils literal notranslate"><span class="pre">cycle_strategies</span></code>: list of <a class="reference internal" href="../reference_strategies/reference_strategy_threshold.html#poisson_approval.StrategyThreshold" title="poisson_approval.StrategyThreshold"><code class="xref py py-class docutils literal notranslate"><span class="pre">StrategyThreshold</span></code></a>. The limit cycle of strategies.
<code class="docutils literal notranslate"><span class="pre">cycle_strategies[t]</span></code> is the best response to <code class="docutils literal notranslate"><span class="pre">cycle_taus_perceived[t]</span></code>.</p></li>
<li><p>Key <code class="docutils literal notranslate"><span class="pre">cycle_taus_actual</span></code>: list of <a class="reference internal" href="../reference_tau_vector/index.html#poisson_approval.TauVector" title="poisson_approval.TauVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">TauVector</span></code></a>. The limit cycle of actual tau-vectors.
<code class="docutils literal notranslate"><span class="pre">cycle_taus_actual[t]</span></code> is a barycenter of <code class="docutils literal notranslate"><span class="pre">cycle_taus_actual[t</span> <span class="pre">-</span> <span class="pre">1]</span></code> and the tau-vector resulting
from <code class="docutils literal notranslate"><span class="pre">strategies[t]</span></code>, parametrized by <cite>ballot_update_ratio</cite>.</p></li>
<li><p>Key <code class="docutils literal notranslate"><span class="pre">n_episodes</span></code>: the number of episodes until convergence. If the process did not converge, by
convention, this value is <cite>n_max_episodes</cite>.</p></li>
<li><p>Key <code class="docutils literal notranslate"><span class="pre">d_candidate_winning_frequency</span></code>: dict. Key: candidate. Value: winning frequency. If the process
reached a limit or a periodical orbit, the winning frequencies are computed in the limit only. If the
process did not converge, the frequency is computed on the whole history.</p></li>
</ul>
<p><cite>cycle_taus_perceived</cite>, <cite>cycle_strategies</cite> and <cite>cycle_taus_actual</cite> have the same length. If it is 1, the
process converges to this limit. If it is greater than 1, the process reaches a periodical orbit. If it
is 0, by convention, it means that the process does not converge and does not reach a periodical orbit.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Comparison between <a class="reference internal" href="#poisson_approval.ProfileHistogram.iterated_voting" title="poisson_approval.ProfileHistogram.iterated_voting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iterated_voting()</span></code></a> and <a class="reference internal" href="#poisson_approval.ProfileHistogram.fictitious_play" title="poisson_approval.ProfileHistogram.fictitious_play"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fictitious_play()</span></code></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#poisson_approval.ProfileHistogram.iterated_voting" title="poisson_approval.ProfileHistogram.iterated_voting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iterated_voting()</span></code></a> can detect cycles (whereas <a class="reference internal" href="#poisson_approval.ProfileHistogram.fictitious_play" title="poisson_approval.ProfileHistogram.fictitious_play"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fictitious_play()</span></code></a> only looks for a limit).</p></li>
<li><p><a class="reference internal" href="#poisson_approval.ProfileHistogram.fictitious_play" title="poisson_approval.ProfileHistogram.fictitious_play"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fictitious_play()</span></code></a> accepts update ratios that are functions of the time (whereas
<a class="reference internal" href="#poisson_approval.ProfileHistogram.iterated_voting" title="poisson_approval.ProfileHistogram.iterated_voting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iterated_voting()</span></code></a> only accepts constants).</p></li>
<li><p><a class="reference internal" href="#poisson_approval.ProfileHistogram.fictitious_play" title="poisson_approval.ProfileHistogram.fictitious_play"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fictitious_play()</span></code></a> is faster and uses less memory, because it only looks for a limit and not for a cycle.</p></li>
</ul>
<p>In general, you should use <a class="reference internal" href="#poisson_approval.ProfileHistogram.iterated_voting" title="poisson_approval.ProfileHistogram.iterated_voting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iterated_voting()</span></code></a> only if you care about cycles, with the constraint
that it implies having constant update ratios.</p>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.order_and_label">
<em class="property">classmethod </em><code class="sig-name descname">order_and_label</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/poisson_approval/profiles/ProfileHistogram.html#ProfileHistogram.order_and_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poisson_approval.ProfileHistogram.order_and_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Order and label of a discrete type.</p>
<p>Cf. <a class="reference internal" href="reference_profile.html#poisson_approval.Profile.order_and_label" title="poisson_approval.Profile.order_and_label"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Profile.order_and_label()</span></code></a>.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ProfileHistogram</span><span class="o">.</span><span class="n">order_and_label</span><span class="p">((</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">)))</span>
<span class="go">(&#39;abc&#39;, &#39;$r(abc)$&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ProfileHistogram</span><span class="o">.</span><span class="n">order_and_label</span><span class="p">(</span><span class="s1">&#39;a~b&gt;c&#39;</span><span class="p">)</span>
<span class="go">(&#39;a~b&gt;c&#39;, &#39;$r(a\\sim b&gt;c)$&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.order_and_label_weak">
<em class="property">classmethod </em><code class="sig-name descname">order_and_label_weak</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#poisson_approval.ProfileHistogram.order_and_label_weak" title="Permalink to this definition">¶</a></dt>
<dd><p>Auxiliary function for <a class="reference internal" href="#poisson_approval.ProfileHistogram.order_and_label" title="poisson_approval.ProfileHistogram.order_and_label"><code class="xref py py-meth docutils literal notranslate"><span class="pre">order_and_label()</span></code></a>, specialized for weak orders.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>t</strong> (<em>object</em>) – A weak order of the form <code class="docutils literal notranslate"><span class="pre">'a&gt;b~c'</span></code> or <code class="docutils literal notranslate"><span class="pre">'a~b&gt;c'</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>order</strong> (<em>str</em>) – The weak order itself.</p></li>
<li><p><strong>label</strong> (<em>str</em>) – The label to be used for the corner of the triangle.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Profile</span><span class="o">.</span><span class="n">order_and_label_weak</span><span class="p">(</span><span class="s1">&#39;a~b&gt;c&#39;</span><span class="p">)</span>
<span class="go">(&#39;a~b&gt;c&#39;, &#39;$r(a\\sim b&gt;c)$&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.plot_cdf">
<code class="sig-name descname">plot_cdf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ranking</span></em>, <em class="sig-param"><span class="n">x_label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y_label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/poisson_approval/profiles/ProfileHistogram.html#ProfileHistogram.plot_cdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poisson_approval.ProfileHistogram.plot_cdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the cumulative distribution function (CDF) for a given ranking.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ranking</strong> (<em>str</em>) – A ranking.</p></li>
<li><p><strong>x_label</strong> (<em>str</em><em>, </em><em>optional</em>) – The label for x-axis. If not specified, an appropriate label is provided.</p></li>
<li><p><strong>y_label</strong> – The label for y-axis. If not specified, an appropriate label is provided.</p></li>
<li><p><strong>kwargs</strong> – The additional keyword arguments are passed to <code class="xref py py-meth docutils literal notranslate"><span class="pre">pyplot.plot()</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fractions</span> <span class="kn">import</span> <span class="n">Fraction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span> <span class="o">=</span> <span class="n">ProfileHistogram</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;abc&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s1">&#39;bac&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s1">&#39;cab&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">)},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;abc&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;bac&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;cab&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">plot_cdf</span><span class="p">(</span><span class="s1">&#39;cab&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.plot_histogram">
<code class="sig-name descname">plot_histogram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ranking</span></em>, <em class="sig-param"><span class="n">x_label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y_label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/poisson_approval/profiles/ProfileHistogram.html#ProfileHistogram.plot_histogram"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#poisson_approval.ProfileHistogram.plot_histogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the histogram for a given ranking.</p>
<p>Up to a renormalization, it is the probability density function (PDF).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ranking</strong> (<em>str</em>) – A ranking.</p></li>
<li><p><strong>x_label</strong> (<em>str</em><em>, </em><em>optional</em>) – The label for x-axis. If not specified, an appropriate label is provided.</p></li>
<li><p><strong>y_label</strong> – The label for y-axis. If not specified, an appropriate label is provided.</p></li>
<li><p><strong>kwargs</strong> – The additional keyword arguments are passed to <code class="xref py py-meth docutils literal notranslate"><span class="pre">pyplot.plot()</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fractions</span> <span class="kn">import</span> <span class="n">Fraction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span> <span class="o">=</span> <span class="n">ProfileHistogram</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;abc&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s1">&#39;bac&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s1">&#39;cab&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">)},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;abc&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;bac&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;cab&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">plot_histogram</span><span class="p">(</span><span class="s1">&#39;cab&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.random_tau_undominated">
<code class="sig-name descname">random_tau_undominated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#poisson_approval.ProfileHistogram.random_tau_undominated" title="Permalink to this definition">¶</a></dt>
<dd><p>Random tau based on undominated ballots.</p>
<p>This is used, for example, in <a class="reference internal" href="reference_profile_cardinal.html#poisson_approval.ProfileCardinal.iterated_voting" title="poisson_approval.ProfileCardinal.iterated_voting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ProfileCardinal.iterated_voting()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A random tau-vector. Independently for each ranking, a proportion uniformly drawn in [0, 1] of voters
use one undominated ballot, and the rest use the other undominated ballot. For example, in Approval voting,
voters with ranking <cite>abc</cite> are randomly split between ballots <cite>a</cite> and <cite>ab</cite>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="../reference_tau_vector/index.html#poisson_approval.TauVector" title="poisson_approval.TauVector">TauVector</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.share_sincere">
<code class="sig-name descname">share_sincere</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">strategy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#poisson_approval.ProfileHistogram.share_sincere" title="Permalink to this definition">¶</a></dt>
<dd><p>Share of voters that happen to cast a sincere ballot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>strategy</strong> (an argument accepted by <a class="reference internal" href="#poisson_approval.ProfileHistogram.share_sincere_among_strategic_voters" title="poisson_approval.ProfileHistogram.share_sincere_among_strategic_voters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">share_sincere_among_strategic_voters()</span></code></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The ratio of voters that happen to cast a sincere ballot. This includes all kinds of voters (sincere,
fanatic or strategic).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Number</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.share_sincere_among_fanatic_voters">
<em class="property">property </em><code class="sig-name descname">share_sincere_among_fanatic_voters</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.share_sincere_among_fanatic_voters" title="Permalink to this definition">¶</a></dt>
<dd><p>Share of fanatic voters that happen to cast a sincere ballot.</p>
<p>In Plurality or Anti-Plurality, this number is always 1 because fanatic voters are sincere by our definition.</p>
<p>In Approval, this is the proportion of fanatic voters whose ballot happen to be sincere, i.e. whose utility
for their second candidate is lower or equal to 0.5.</p>
<p>Note that this share is relative to the share of fanatic voters: therefore, it is independent of
<code class="xref py py-attr docutils literal notranslate"><span class="pre">ratio_fanatic</span></code> and can be defined conventionally even if <code class="xref py py-attr docutils literal notranslate"><span class="pre">ratio_fanatic</span></code> is 0, with the same
computation.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Number</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.share_sincere_among_strategic_voters">
<code class="sig-name descname">share_sincere_among_strategic_voters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">strategy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#poisson_approval.ProfileHistogram.share_sincere_among_strategic_voters" title="Permalink to this definition">¶</a></dt>
<dd><p>Share of strategic voters that happen to cast a sincere ballot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>strategy</strong> (<a class="reference internal" href="../reference_strategies/reference_strategy_threshold.html#poisson_approval.StrategyThreshold" title="poisson_approval.StrategyThreshold"><em>StrategyThreshold</em></a>) – A strategy that specifies at least all the rankings that are present in the profile. If some voters
have a utility for their second candidate that is equal to the threshold utility of the strategy, then the
ratio of optimistic voters must be specified.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The ratio of sincere voters among strategic voters. In particular, if all strategic voters happen to be
sincere with the given strategy, then the ratio is 1, even if there are non-strategic voters (for example,
in Approval, fanatic voters who have a utility &gt; 0.5 for their second candidate and are therefore not
“sincere”, according to our definition).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Number</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.standardized_version">
<em class="property">property </em><code class="sig-name descname">standardized_version</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.standardized_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Standardized version of the profile (makes it unique, up to permutations of the candidates).</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fractions</span> <span class="kn">import</span> <span class="n">Fraction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span> <span class="o">=</span> <span class="n">ProfileHistogram</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;abc&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s1">&#39;bac&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s1">&#39;cab&#39;</span><span class="p">:</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">)},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;abc&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;bac&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;cab&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">profile</span><span class="o">.</span><span class="n">standardized_version</span><span class="p">)</span>
<span class="go">&lt;abc: 3/5 [1 0], bac: 1/10 [1], cba: 3/10 [Fraction(2, 3) 0 0 0 0 0 0 0 0 Fraction(1, 3)]&gt; (Condorcet winner: a)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profile</span><span class="o">.</span><span class="n">is_standardized</span>
<span class="go">False</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#poisson_approval.ProfileHistogram" title="poisson_approval.ProfileHistogram">ProfileHistogram</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.strategies_group">
<em class="property">property </em><code class="sig-name descname">strategies_group</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.strategies_group" title="Permalink to this definition">¶</a></dt>
<dd><p>group strategies of the profile.</p>
<dl class="field-list simple">
<dt class="field-odd">Yields</dt>
<dd class="field-odd"><p><em>StrategyThreshold</em> – All possible group strategies of the profile. Each bin of each histogram is considered as a “group” of
voters. In other words, the considered strategies are all the threshold strategies where for each ranking,
the corresponding threshold is at a limit between two bins of the histogram.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Iterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.strategies_ordinal">
<em class="property">property </em><code class="sig-name descname">strategies_ordinal</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.strategies_ordinal" title="Permalink to this definition">¶</a></dt>
<dd><p>ordinal strategies of the profile.</p>
<dl class="field-list simple">
<dt class="field-odd">Yields</dt>
<dd class="field-odd"><p><em>StrategyOrdinal</em> – All possible ordinal strategies for this profile.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Cf. <a class="reference internal" href="reference_profile_ordinal.html#poisson_approval.ProfileOrdinal" title="poisson_approval.ProfileOrdinal"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProfileOrdinal</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Iterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.strategies_pure">
<em class="property">property </em><code class="sig-name descname">strategies_pure</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.strategies_pure" title="Permalink to this definition">¶</a></dt>
<dd><p>pure strategies of the profile.</p>
<dl class="field-list simple">
<dt class="field-odd">Yields</dt>
<dd class="field-odd"><p><em>Strategy</em> – All possible pure strategies of the profile. This is implemented only for discrete profiles such
as <a class="reference internal" href="reference_profile_twelve.html#poisson_approval.ProfileTwelve" title="poisson_approval.ProfileTwelve"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProfileTwelve</span></code></a> or <a class="reference internal" href="reference_profile_discrete.html#poisson_approval.ProfileDiscrete" title="poisson_approval.ProfileDiscrete"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProfileDiscrete</span></code></a>.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Cf. <a class="reference internal" href="reference_profile_discrete.html#poisson_approval.ProfileDiscrete" title="poisson_approval.ProfileDiscrete"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProfileDiscrete</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Iterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.support_in_rankings">
<em class="property">property </em><code class="sig-name descname">support_in_rankings</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.support_in_rankings" title="Permalink to this definition">¶</a></dt>
<dd><p>Support of the profile (in terms of rankings).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../reference_utils/reference_set_printing_in_order.html#poisson_approval.SetPrintingInOrder" title="poisson_approval.SetPrintingInOrder"><code class="xref py py-class docutils literal notranslate"><span class="pre">SetPrintingInOrder</span></code></a> of str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.support_in_weak_orders">
<em class="property">property </em><code class="sig-name descname">support_in_weak_orders</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.support_in_weak_orders" title="Permalink to this definition">¶</a></dt>
<dd><p>Support of the profile (in terms of weak orders).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../reference_utils/reference_set_printing_in_order.html#poisson_approval.SetPrintingInOrder" title="poisson_approval.SetPrintingInOrder"><code class="xref py py-class docutils literal notranslate"><span class="pre">SetPrintingInOrder</span></code></a> of str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.tau">
<code class="sig-name descname">tau</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">strategy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#poisson_approval.ProfileHistogram.tau" title="Permalink to this definition">¶</a></dt>
<dd><p>Tau-vector associated to a strategy, with partial sincere and fanatic voting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>strategy</strong> (an argument accepted by <a class="reference internal" href="#poisson_approval.ProfileHistogram.tau_strategic" title="poisson_approval.ProfileHistogram.tau_strategic"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tau_strategic()</span></code></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A share <code class="xref py py-attr docutils literal notranslate"><span class="pre">ratio_sincere</span></code> of the voters vote sincerely (in the sense of <a class="reference internal" href="#poisson_approval.ProfileHistogram.tau_sincere" title="poisson_approval.ProfileHistogram.tau_sincere"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tau_sincere</span></code></a>),
a share <code class="xref py py-attr docutils literal notranslate"><span class="pre">ratio_fanatic</span></code> vote only for their top candidate, and the rest of the voters
vote strategically (in the sense of <a class="reference internal" href="#poisson_approval.ProfileHistogram.tau_strategic" title="poisson_approval.ProfileHistogram.tau_strategic"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tau_strategic()</span></code></a>). In other words, this tau-vector
is the barycenter of <code class="docutils literal notranslate"><span class="pre">tau_sincere</span></code>, <code class="docutils literal notranslate"><span class="pre">tau_fanatic</span></code> and <code class="docutils literal notranslate"><span class="pre">tau_strategic(strategy)</span></code>, with respective
weights <code class="docutils literal notranslate"><span class="pre">self.ratio_sincere</span></code>, <code class="docutils literal notranslate"><span class="pre">self.ratio_fanatic</span></code> and <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">-</span> <span class="pre">self.ratio_sincere</span> <span class="pre">-</span> <span class="pre">self.ratio_fanatic</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../reference_tau_vector/index.html#poisson_approval.TauVector" title="poisson_approval.TauVector">TauVector</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.tau_fanatic">
<em class="property">property </em><code class="sig-name descname">tau_fanatic</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.tau_fanatic" title="Permalink to this definition">¶</a></dt>
<dd><p>Tau-vector associated to fanatic voting.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>In Approval or Plurality, all voters approve of their top candidate only.,</p></li>
<li><p>In Anti-plurality, all voters vote against their bottom candidate (i.e. for the other two).</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="../reference_tau_vector/index.html#poisson_approval.TauVector" title="poisson_approval.TauVector">TauVector</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>In Plurality and Anti-plurality, sincere and fanatic voting are the same. They differ only in Approval.</p>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.tau_sincere">
<em class="property">property </em><code class="sig-name descname">tau_sincere</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.tau_sincere" title="Permalink to this definition">¶</a></dt>
<dd><p>Tau-vector associated to sincere voting.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>In Approval, all voters approve of their top candidate, and voters approve of their middle candidate if
and only if their utility for her is strictly greater than 0.5.</p></li>
<li><p>In Plurality, all voters vote for their top candidate.</p></li>
<li><p>In Anti-plurality, all voters vote against their bottom candidate (i.e. for the other two).</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="../reference_tau_vector/index.html#poisson_approval.TauVector" title="poisson_approval.TauVector">TauVector</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>In Plurality and Anti-plurality, sincere and fanatic voting are the same. They differ only in Approval.</p>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.tau_strategic">
<code class="sig-name descname">tau_strategic</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">strategy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#poisson_approval.ProfileHistogram.tau_strategic" title="Permalink to this definition">¶</a></dt>
<dd><p>Tau-vector associated to a strategy (fully strategic voting).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>strategy</strong> (<a class="reference internal" href="../reference_strategies/reference_strategy_threshold.html#poisson_approval.StrategyThreshold" title="poisson_approval.StrategyThreshold"><em>StrategyThreshold</em></a>) – A strategy that specifies at least all the rankings that are present in the profile. If some voters
have a utility for their second candidate that is equal to the threshold utility of the strategy, then the
ratio of optimistic voters must be specified.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tau-vector associated to this profile and strategy <cite>strategy</cite>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../reference_tau_vector/index.html#poisson_approval.TauVector" title="poisson_approval.TauVector">TauVector</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.weighted_maj_graph">
<em class="property">property </em><code class="sig-name descname">weighted_maj_graph</code><a class="headerlink" href="#poisson_approval.ProfileHistogram.weighted_maj_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Weighted majority graph.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="poisson_approval.ProfileHistogram.">
<code class="sig-name descname">τ</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">strategy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#poisson_approval.ProfileHistogram." title="Permalink to this definition">¶</a></dt>
<dd><p>Tau-vector (alternate notation).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>strategy</strong> (<a class="reference internal" href="../reference_strategies/reference_strategy.html#poisson_approval.Strategy" title="poisson_approval.Strategy"><em>Strategy</em></a>) – A strategy that specifies at least all the rankings that are present in the profile.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tau-vector associated to this profile and strategy <cite>strategy</cite>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../reference_tau_vector/index.html#poisson_approval.TauVector" title="poisson_approval.TauVector">TauVector</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../reference_iterables/index.html" class="btn btn-neutral float-right" title="Iterables" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="reference_profile_noisy_discrete.html" class="btn btn-neutral float-left" title="ProfileNoisyDiscrete" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, François Durand

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>